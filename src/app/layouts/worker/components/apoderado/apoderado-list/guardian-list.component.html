<div class="guardian-container">
  <div class="toolbar">
    <mat-form-field appearance="outline" class="search-field">
      <input matInput placeholder="Buscar por nombre o DNI" [formControl]="searchTermControl">
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
    
    <!-- BotÃ³n para agregar apoderado -->
    <button (click)="openAddGuardianModal()" class="add-button">
      <mat-icon>person_add</mat-icon>
      Agregar Apoderado
    </button>
  </div>

  <div class="guardian-table">
    <div class="table-header">
      <span data-label="ID">ID</span>
      <span data-label="NOMBRE">NOMBRE</span>
      <span data-label="ACCIONES">ACCIONES</span>
    </div>
    
    <div class="table-body">
      <div *ngIf="loading" class="loading-container">
        <div class="loading">Cargando datos <span class="spinner"></span></div>
      </div>
      
      <div class="guardian-row" *ngFor="let guardian of filteredGuardians">
        <span data-label="ID">{{ guardian.id || 'N/A' }}</span>
        <span data-label="NOMBRE">{{ guardian.nombre || 'Sin nombre' }}</span>
        <span data-label="ACCIONES" class="actions">
          <mat-icon (click)="openEditGuardianModal(guardian)" 
                    title="Modificar apoderado" 
                    class="edit-icon">
            edit
          </mat-icon>
        </span>
      </div>
      
      <div *ngIf="filteredGuardians.length === 0 && !loading" style="text-align: center; padding: 40px; color: #666;">
        <p *ngIf="searchTermControl.value && searchTermControl.value.trim() !== ''">
          No se encontraron apoderados que coincidan con "<strong>{{ searchTermControl.value }}</strong>"
        </p>
        <p *ngIf="!searchTermControl.value || searchTermControl.value.trim() === ''">
          No hay apoderados para mostrar
        </p>
      </div>
    </div>
  </div>

  

    
</div>