<div class="student-container">
  <div class="toolbar">
    <mat-form-field appearance="outline" class="search-field">
      <input matInput placeholder="Buscar por nombre" [formControl]="searchTermControl">
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
    <button mat-raised-button color="primary" class="add-button" [disabled]="loading" (click)="openAddDialog()">Agregar Alumno</button>
  </div>
  <div class="student-table">
    <div class="table-header">
      <span data-label="DNI">DNI</span>
      <span data-label="NOMBRE">NOMBRE</span>
      <span data-label="CÓDIGO">CÓDIGO</span>
      <span data-label="TELÉFONO">TELÉFONO</span>
      <span data-label="ACCIONES">ACCIONES</span>
    </div>
    <div class="table-body">
      <div *ngIf="loading" class="loading-container">
        <div class="loading">Cargando datos <span class="spinner"></span></div>
      </div>
      <div class="student-row" *ngFor="let student of filteredStudents">
        <span data-label="DNI">{{ student.numero_documento }}</span>
        <span data-label="NOMBRE">{{ student.nombre_completo }}</span>
        <span data-label="CÓDIGO">{{ student.codigo }}</span>
        <span data-label="TELÉFONO">{{ student.telefono }}</span>
        <span class="actions" data-label="ACCIONES">
          <mat-icon (click)="openEditDialog(student)" style="color: #ffcc00;">edit</mat-icon>
        </span>
      </div>
      <div *ngIf="filteredStudents.length === 0 && !loading">No hay estudiantes para mostrar</div>
    </div>
  </div>
  <div class="pagination">
    <span>Total de alumnos: {{ totalAlumnos }}</span>
    <div class="pagination-buttons">
      <button *ngFor="let page of getPageNumbers()"
              [class.active]="page === currentPage"
              [disabled]="loading"
              (click)="changePage(page)"
              class="page-button">
        {{ page }}
      </button>
    </div>
  </div>
</div>
